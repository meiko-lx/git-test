(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-16214cbc"],{"093a":function(e,t,i){"use strict";var o=i("b775");t["a"]={getVideoPageList:function(e){return Object(o["a"])("/api/admin/video/page/list",e)},createVideo:function(e){return Object(o["a"])("/api/admin/video/create",e)},editVideo:function(e){return Object(o["a"])("/api/admin/video/edit",e)},selectVideo:function(e){return Object(o["a"])("/api/admin/video/select/"+e)},deleteVideo:function(e){return Object(o["a"])("/api/admin/video/delete/"+e)},selectByVideoName:function(e){return Object(o["a"])("/api/admin/video/selectByVideoName",e)},getVideoDetailByVideoId:function(e){return Object(o["a"])("/api/admin/video/getVideoDetailByVideoId/"+e)},userAnalysis:function(e){return Object(o["a"])("/api/admin/video/userAnalysis/"+e)}}},1148:function(e,t,i){"use strict";var o=i("a691"),r=i("577e"),a=i("1d80");e.exports=function(e){var t=r(a(this)),i="",n=o(e);if(n<0||n==1/0)throw RangeError("Wrong number of repetitions");for(;n>0;(n>>>=1)&&(t+=t))1&n&&(i+=t);return i}},"408a":function(e,t,i){var o=i("c6b6");e.exports=function(e){if("number"!=typeof e&&"Number"!=o(e))throw TypeError("Incorrect invocation");return+e}},"57a1":function(e,t,i){"use strict";i.r(t);var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("el-upload",{staticClass:"avatar-uploader el-upload--text",staticStyle:{"margin-left":"14%","margin-top":"5%"},attrs:{drag:{Plus:e.Plus},action:"/api/admin/upload/uploadVidoe",multiple:"","show-file-list":!1,data:{SavePath:this.Path.url},"on-success":e.handleVideoSuccess,"before-upload":e.beforeUploadVideo,"on-progress":e.uploadVideoProcess}},[e.Plus?i("i",{staticClass:"el-icon-upload"}):e._e(),e.Plus?i("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),i("em",[e._v("点击上传")])]):e._e(),1==e.videoFlag?i("el-progress",{staticStyle:{"margin-top":"30px"},attrs:{type:"circle",percentage:e.videoUploadPercent}}):e._e(),i("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传mp4/flv/avi文件，且不超过300M")])],1),i("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.formLoading,expression:"formLoading"}],ref:"form",attrs:{model:e.form,"label-width":"100px",rules:e.rules}},[i("el-form-item",{attrs:{label:"视频文件名："}},[i("el-input",{attrs:{disabled:!0},model:{value:e.form.videoFileName,callback:function(t){e.$set(e.form,"videoFileName",t)},expression:"form.videoFileName"}})],1),i("el-form-item",{attrs:{label:"视频路径："}},[i("el-input",{attrs:{disabled:!0},model:{value:e.form.videoUrl,callback:function(t){e.$set(e.form,"videoUrl",t)},expression:"form.videoUrl"}})],1),i("el-form-item",{attrs:{label:"视频名："}},[i("el-input",{model:{value:e.form.videoName,callback:function(t){e.$set(e.form,"videoName",t)},expression:"form.videoName"}})],1),i("el-form-item",{attrs:{label:"视频分类：",prop:"videoCategory",required:""}},[i("el-select",{attrs:{placeholder:"视频分类"},model:{value:e.form.videoCategory,callback:function(t){e.$set(e.form,"videoCategory",t)},expression:"form.videoCategory"}},e._l(e.categoryEnum,(function(e){return i("el-option",{key:e.key,attrs:{value:e.key,label:e.value}})})),1)],1),e._l(e.form.videoTagList,(function(t,o){return i("el-form-item",{key:o,attrs:{label:"视频标签"+(o+1)+"：",required:""}},[i("el-input",{staticStyle:{width:"80%"},model:{value:t.tagName,callback:function(i){e.$set(t,"tagName",i)},expression:"titleItem.tagName"}}),i("el-button",{staticClass:"link-left",attrs:{type:"text",size:"mini"},on:{click:function(t){return e.form.videoTagList.splice(o,1)}}},[e._v("删除")])],1)})),i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("提交")]),i("el-button",{on:{click:e.resetForm}},[e._v("重置")]),i("el-button",{attrs:{type:"success"},on:{click:e.addTitle}},[e._v("添加标签")])],1)],2)],1)},r=[],a=i("5530"),n=(i("b680"),i("2f62")),l=i("093a"),s={data:function(){return{form:{videoId:null,videoFileName:"",videoCategory:null,videoUrl:"",videoFilePath:"",videoName:"",videoTagList:[]},formLoading:!1,rules:{videoCategory:[{required:!0,message:"请选择分类",trigger:"change"}]},videoForm:{videoId:"",videoUrl:""},videoFlag:!1,Plus:!0,Path:{url:"D:/video/videoUpload"},videoUploadPercent:0}},created:function(){this.$route.query.videoId},mounted:function(){},methods:Object(a["a"])({submitForm:function(){var e=this,t=this;this.$refs.form.validate((function(i){if(!i)return!1;e.formLoading=!0,l["a"].createVideo(e.form).then((function(e){1===e.code?(t.$message.success(e.message),t.delCurrentView(t).then((function(){t.$router.push("/video/list")}))):(t.$message.error(e.message),t.formLoading=!1)})).catch((function(e){t.formLoading=!1}))}))},addTitle:function(){this.form.videoTagList.push({userTag:""})},removeTitleItem:function(e){this.form.videoTagList.remove(e)},resetForm:function(){this.$refs["form"].resetFields()},beforeUploadVideo:function(e){var t=e.size/1024/1024<300;return-1===["video/mp4","video/ogg","video/flv","video/avi","video/wmv","video/rmvb"].indexOf(e.type)?(this.$message.error("请上传正确的视频格式"),!1):t?void 0:(this.$message.error("上传视频大小不能超过300MB哦!"),!1)},uploadVideoProcess:function(e,t,i){this.Plus=!1,this.videoFlag=!0,this.videoUploadPercent=t.percentage.toFixed(0)},handleVideoSuccess:function(e,t){this.Plus=!1,this.videoUploadPercent=100,console.log(e),"200"===e.resCode?(this.form.videoFileName=e.newVidoeName,this.form.videoUrl=e.VideoUrl,this.videoForm.videoId=e.newVidoeName,this.form.videoUrl=e.VideoUrl,this.$message.success("视频上传成功！")):this.$message.error("视频上传失败，请重新上传！")}},Object(n["b"])("tagsView",{delCurrentView:"delCurrentView"})),computed:Object(a["a"])(Object(a["a"])({},Object(n["c"])("enumItem",["enumFormat"])),Object(n["e"])("enumItem",{categoryEnum:function(e){return e.user.categoryEnum}}))},d=s,c=i("2877"),u=Object(c["a"])(d,o,r,!1,null,null,null);t["default"]=u.exports},b680:function(e,t,i){"use strict";var o=i("23e7"),r=i("a691"),a=i("408a"),n=i("1148"),l=i("d039"),s=1..toFixed,d=Math.floor,c=function(e,t,i){return 0===t?i:t%2===1?c(e,t-1,i*e):c(e*e,t/2,i)},u=function(e){var t=0,i=e;while(i>=4096)t+=12,i/=4096;while(i>=2)t+=1,i/=2;return t},m=function(e,t,i){var o=-1,r=i;while(++o<6)r+=t*e[o],e[o]=r%1e7,r=d(r/1e7)},f=function(e,t){var i=6,o=0;while(--i>=0)o+=e[i],e[i]=d(o/t),o=o%t*1e7},v=function(e){var t=6,i="";while(--t>=0)if(""!==i||0===t||0!==e[t]){var o=String(e[t]);i=""===i?o:i+n.call("0",7-o.length)+o}return i},p=s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!l((function(){s.call({})}));o({target:"Number",proto:!0,forced:p},{toFixed:function(e){var t,i,o,l,s=a(this),d=r(e),p=[0,0,0,0,0,0],g="",h="0";if(d<0||d>20)throw RangeError("Incorrect fraction digits");if(s!=s)return"NaN";if(s<=-1e21||s>=1e21)return String(s);if(s<0&&(g="-",s=-s),s>1e-21)if(t=u(s*c(2,69,1))-69,i=t<0?s*c(2,-t,1):s/c(2,t,1),i*=4503599627370496,t=52-t,t>0){m(p,0,i),o=d;while(o>=7)m(p,1e7,0),o-=7;m(p,c(10,o,1),0),o=t-1;while(o>=23)f(p,1<<23),o-=23;f(p,1<<o),m(p,1,1),f(p,2),h=v(p)}else m(p,0,i),m(p,1<<-t,0),h=v(p)+n.call("0",d);return d>0?(l=h.length,h=g+(l<=d?"0."+n.call("0",d-l)+h:h.slice(0,l-d)+"."+h.slice(l-d))):h=g+h,h}})}}]);